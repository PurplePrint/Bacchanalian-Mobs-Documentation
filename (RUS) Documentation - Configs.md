# Bacchanalian Mobs - документация по конфигурации.


## Not English? Why???
Документация написана на русском, моём родном языке. Я плохо пишу по-английски, и не хочу проделывать титаническую работу по переводу этого большого текста (ведь мне придётся перепроверять каждое слово, потому что машинный перевод обычно неточный).


___



## ВСТУПЛЕНИЕ

Конфиг Bacchanalian Mobs можно назвать перегруженным и излишне сложным. Это правда. Однако, BM преследует цель стать универсальным продвинутым решением для разработчиков модпаков и администраторов серверов. В таком случае, невероятно гибкая конфигурация заменит необходимость писать скрипты под каждую фичу в проекте.



## ОБЩЕЕ ПОЛОЖЕНИЕ ДЕЛ

Говоря "конфиги", я имею в виду - набор всех файлов в папке `.minecraft\config\Bacchanalian Mobs\` - конфигурация разбита на отдельные файлы.

Чтобы обновление конфигурации применилось в игре, вам нужно перезапустить игру. Редактирование конфигов через GUI из окна игры не поддерживается.

В корневом каталоге находятся папки **Профилей Конфигурации**. Из коробки их две - **_'default'_** и **_'blank'_**.
Каждая папка хранит свой **Профиль Конфигурации** - набор файлов конфигурации, независимый от тех же файлов в других **профилях**. Это удобно, когда вы полностью переключаете набор конфигов, и не хотите заниматься копи-пастой файлов.
Профиль **_'default'_** хранит настройки по умолчанию, созданные мной. Профиль **_'blank'_** хранит полностью пустые конфиги, чтобы вы могли настроить всё сами без лишнего вмешательства.
Вы можете создавать **свои собственные профили** - просто создайте папку и поместите туда полный набор файлов конфигурации.
Чтобы использовать профиль, вставьте название его папки в файл **'selected_profile.txt'**. Файл должен содержать одно название профиля (папки) на первой строке без лишних пробелов, и ничего более.

Все конфиги в моде можно поделить на три вида:
- **Стандартный конфиг Forge** (файлы `.cfg`, соответствующий синтаксис)
- **Plain text** (файлы `.cfg` или `.txt`, простой кастомный синтаксис)
- **Json** (сложные структуры основанные на правилах, с вложенными элементами)

_**Рекомендую изучить синтаксис json перед настройкой, так как это основа!** (сам синтаксис не сложный)_

Предупреждение: В разных конфигах разные правила записи пробелов и регистра букв. Однако, мод чувствителен к регистру и пробелам. Рекомендую копипастить названия параметров, а не печатать вручную.



## ТЕРМИНОЛОГИЯ

- Говоря, _"раздел"_, или _"раздел json"_, я имею в виду такой формат записи в json-файле:
```
{
	"some_list": {
		"Section n1": {
			"something": 456,
			"cool?": true
		},
		"Section n2": {
			"something": 220,
			"options": [
				"linear",
				"abstract"
			],
			"number": 9
		}
	}
}
```
Здесь `Section n1` и `Section n2` это разделы.
- Говоря _"правило"_ я имею в виду раздел или подраздел в json (см. выше), который содержит набор настроек. Может быть выбрано одно, несколько, или ни одного правила, и эти настройки могут быть записаны только в формате правил.
- _"Модули"_ - это название внутри Bacchanalian Mobs. Весь контент мода разбит на Модули, вы можете глобально включить/выключить любой из них, чтобы быстро избавиться от влияния этого контента на игру.
- _"Client-side"_, "_Server-side_" - это базовые термины, обозначающие разделение кода программы на стороны. "Клиент" - это устройство пользователя (игрока). В одиночной игре Minecraft, границы между client-side и server-side кодом стёрты, и весь код выполняется на одном вашем устройстве.



## ПОЛНЫЙ СПИСОК КОНФИГОВ

"**!**" обозначает, что есть примечания

`Common_Config.cfg` - Основные настройки мода, вкл/выкл Модулей, отдельные небольшие настройки которые больше негде разместить
`MobList.json` - Списки мобов (см. ниже)
`multipliers.json` - Универсальный способ увеличить/уменьшить любое значение для любого конфига (см. ниже)
`Sequences.json` - Универсальный способ выбрать одно значение из нескольких для любого конфига (см. ниже)
`Features.json` - Настройка контента из Модуля "Features" (общие изменения в поведении мобов, твики, новые ИИ задачи)
`Lords.json` - Настройка контента из Модуля "Lords" (редкие и усиленные версии мобов, с набором _Abilities_, меняющих поведение, и _Buffs_, усиливающих боевые характеристики)
`Lords_Client.cfg` - Client-side настройки для визуализации некоторых данных касающихся Лордов (контент из Модуля "Lords")
`Sight.json` - Настройка контента из Модуля "Sight" (два режима X-Ray для мобов - Exact и Cached)
`sight_hud.cfg` - Client-side настройки для значков HUD, оповещающих игрока, что на него заагрены мобы с X-Ray (контент из Модуля "Sight")
`TransportConfig.json` - Настройка контента из Модуля "Transport" (возможность для мобов вызвать другого entity как транспорт и оседлать его)
`Pillar_Breaking.json` - Настройка фичи "Break pillar" (моб будет ломать столб, построенный игроком чтобы укрыться от моба) (часть системы "Reaching")
`RaidProfiles.json` - Настройка контента из Модуля "Raids" (повторяющиеся раз в несколько дней целенаправленные спавн и нападение мобов на игрока)
`equipment.json` - Настройка контента из Модуля "Equipment" (выбрать предметы в руках и броню для мобов)
`scaling_props_health.json` - Увеличить или уменьшить HP мобов
`potion_effects.json` - Применение эффектов зелий к мобам сразу после их спавна
`consequences.json` - Настройка контента из Модуля "Consequences" (применение различных последствий, когда моб A атакует или подвергается атаки от моба B)
`damage_config.json` - Увеличить или уменьшить урон, который моб A наносит мобу B, или который моб A получает из Источника Урона 'X'
`Pillaring.json` - {не используется}
`Break_Blocks_config.json` - {не используется}
`list_of_turret_blocks.cfg` - Список блоков, которые считаются турелями (На данный момент, мод умеет работать только с турелями Techguns) {не используется}
`dynamic_difficulty_general.cfg` - Общие настройки Модуля "Dynamic Difficulty"
`dynamic_difficulty_hud.cfg` - Client-side настройки для HUD, отображающего очки Динамической Сложности
`Dynamic_Difficulty_PointsCost.json` - Настройка очков сложности, получаемых или убавляемых за: HP, силу оружия (DPS), силу брони у игрока
`guns_damage.cfg` - Настройки, корректирующие определение урона (DPS) для оружия из мода Techguns
`points_per_kill.json` - Настройка очков сложности, получаемых или убавляемых за убийство мобов
`points_per_sleep.cfg` - Настройка очков сложности, получаемых или убавляемых за сон, то есть пропуск ночи
`points_per_stages.cfg` - Настройка очков сложности, получаемых или убавляемых за приобретение Game Stages
`points_per_phases.cfg` - Настройка очков сложности, получаемых или убавляемых за смену фазы эволюции SRParasites
(**!1**) `dimensions_minimum_time.cfg` - Минимальное время, которое игрок должен провести в измерении, чтобы смена фазы эволюции SRParasites в этом измерении считалась его делом
`difficulty_points_per_items.json` - Настройка очков сложности, получаемых или убавляемых за наличие в инвентаре игрока определенных предметов
`points_per_effects.json` - Настройка очков сложности, получаемых или убавляемых за наличие у игрока определенных эффектов зелий
`multiplayer_difficulty_and_time_mode.cfg` - Настроить режим выбора Динамической Сложности и проведённого времени, когда поблизости находятся несколько игроков с разными показателями
`Default_Difficulty.json` - Настройка очков Динамической Сложности по умолчанию, если не удалось получить их у ближайших игроков
`Loot.json` - Настройки, отвечающие за выпадение кастомного лута из мобов

Примечания:
- **№1** Мод **SRPMixins** внедряет фичу индивидуальных фаз эволюции для каждого игрока, вместо одной фазы на всё измерение. Если я захочу сделать интеграцию с этим модом, возможно, этот конфиг изменится или исчезнет.



## ПОВТОРЯЮЩИЕСЯ СТРУКТУРЫ

Речь идёт о конфигах json.
Некоторые структуры данных повторяются во многих конфигах. Их формат записи остаётся одинаковым вне зависимости от конфига (но с некоторыми исключениями). Эти записи существуют внутри правил.

### Списки мобов
Формат записи:
`"Mob list": "ALL_REASONABLE"`

Обозначает, к каким мобам будут применены изменения/вмешательства Bacchanalian Mobs.
Ссылается на список, указанный в конфиг-файле `MobList.json`

### Условия
Формат записи:
```
"Conditions": {
	"Set n1": {
		"Dimensions": [0, 10]
	},
	"Set n2": {
		"difficulty": [150, "x"]
	}
}
```

Решает, применять или не применять изменения/вмешательства Bacchanalian Mobs.
Параметр `Conditions` должен содержать json-раздел, внутри которого - любое количество json-разделов с любыми названиями. Это **правила условий**. Каждое правило содержит одно или несколько **условий**. Должны быть выполнены все условия хотя бы в одном из правил, чтобы условия считались выполненными.

### Множители
Формат записи:
```
"SomeParameter": 123,
"Multipliers - SomeParameter": [
	"Difficulty-based N1",
	"Multipliers List n3"
],
```
Указывает список из множителей, применяемых чтобы увеличить и/или уменьшить указанное значение (в данном случае - `SomeParameter`).
Каждый множитель - это правило, указанное в конфиг-файле `multipliers.json`.

### Последовательности

Формат записи:
```
// Обратите внимание - параметр 'Duration' отсутствует в этом конфиге,
// несмотря на то что он здесь предусмотрен и должен быть.
"Sequence type - Duration": "SRParasites evolution phases",
"Sequence name - Duration": "SRP Phases - Basic",
"Sequence - Duration": [10, 10, 15, 15, 20, 22, 24, 30, 40],
"Default Sequence value - Duration": 1
```

Параметр `"Sequence type - ___"` указывает тип последовательности. Разные типы последовательностей реагируют на разные изменения (будь то фазы эволюции SRParasites, Game Stages игрока, etc), и выбирают номер из последовательности в соответствии с этими изменениями.
Параметр `"Sequence name - ___"` указывает имя правила, которое будет использовано.
Параметр `"Sequence - ___"` указывает последовательность элементов. Если в Типе Последовательности активен элемент под номером 4, то будет выбран элемент под номером 4 из приведённых здесь значений.
Параметр `"Default Sequence value - ___"` указывает значение, которое будет выбрано как fallback, если обработка последовательности дала сбой и не смогла предоставить номер элемента.



## MobList.json

Именно в этом конфиге вы можете создать список мобов, и применять к этому списку определенные правила (настройки).

Список выглядит так:
```
{
	"Some List": {
		"Entities": [
			"minecraft:zombie",
			"minecraft:skeleton"
		],
		"ModIDs": [
			"somemode"
		],
		"Lists": [
			"SRParasites list"
		]
	},
	"SRParasites list": {
		"ModIDs": [
			"srparasites"
		]
	}
}
```
Параметр `Entities` - это json array, содержащий строки с ID существ в формате `modid:creatureid`.
Параметр `ModIDs` - это json array, содержащий строки с ID модов. Будут выбраны все существа, добавляемые этим модом.
Параметр `Lists` - это json array, содержащий строки с названиями других списков. Будут выбраны все существа, и все существа из всех указанных modid, для каждого списка, указанного внутри.